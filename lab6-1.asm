# lab6-1.asm

# create the file
call func1
.string "/tmp/hello.txt"
func1:
pop ebx		# copy the string inside ebx
mov eax, 8 	# syscall for creat()
mov ecx, 00777 	# mode
int 0x80

# write the string
mov ebx, eax 	# copy the return value [file descriptor] of creat() to ebx
call func
.string "Hello World!\n"
func:
pop ecx		# copy the string inside ecx
mov eax, 4 	# syscall for write()
mov edx, 14 	# length of string
int 0x80


# exit cleanly
mov eax, 1
mov ebx, 5
int 0x80
